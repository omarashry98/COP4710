<!DOCTYPE html>
<html>
    <head>
        <title>College Event Website</title>
        <!-- Add Bootstrap CSS and JS -->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        />
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

        <script src="schools.json"></script>
        <link rel="stylesheet" type="text/css" href="homepageStyle.css" />
        <!-- GOOGLE MAPS API -->
        <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAJCH4Rz-RmD8ErAJGHas-_MavrBfc6lpc&callback=initMap"
            async
            defer
        ></script>
        <script src="js/googleMapsAPI.js"></script>
        <!-- JS FILES FOR IMPORTANT ACTIONS -->
        <script src="js/createEvent.js"></script>
        <script src="js/createUniversity.js"></script>
        <script src="js/code.js"></script>
    </head>
    <body onload="displayEvents()">
        <!-- Navigation Bar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">College Event Website</a>
            <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav mr-auto">
                    <!-- Add any additional nav links here -->
                </div>
                <div class="navbar-nav">
                    <button
                        type="button"
                        class="btn"
                        data-toggle="modal"
                        data-target="#approvePublicEventModal"
                    >
                        Approve RSO
                    </button>
                    <button
                        type="button"
                        class="btn"
                        data-toggle="modal"
                        data-target="#createEventModal"
                    >
                        Create Event
                    </button>
                    <button
                        id="createRsoBtn"
                        type="button"
                        class="btn"
                        data-toggle="modal"
                        data-target="#createRSOModal"
                    >
                        Create RSO
                    </button>
                    <button
                        type="button"
                        class="btn"
                        data-toggle="modal"
                        data-target="#createUniversityModal"
                    >
                        Create University
                    </button>
                    <button
                        type="button"
                        class="btn"
                        data-toggle="modal"
                        data-target="#joinRSOModal"
                    >
                        Join RSO
                    </button>
                    <button type="button" class="btn" onclick="signout()">
                        Sign Out
                    </button>
                </div>
            </div>
        </nav>

        <!-- Filter Buttons -->
        <div class="container my-3">
            <div class="row justify-content-left">
                <div class="col-md-8">
                    <div
                        id="filterBtn"
                        class="event-filter-container btn-group btn-group-lg w-100"
                        role="group"
                    >
                        <button
                            type="button"
                            class="btn btn-secondary event-filter"
                            id="thisWeekFilter"
                        >
                            This Week
                        </button>
                        <button
                            type="button"
                            class="btn btn-secondary event-filter"
                            id="nextWeekFilter"
                        >
                            Next Week
                        </button>
                        <button
                            type="button"
                            class="btn btn-secondary event-filter"
                            id="week2Filter"
                        >
                           Entire Month
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Event Cards -->
        <div class="container mt-5">
            <div class="row" id="eventsContainer">
                <!-- Event cards will be appended here -->
            </div>
        </div>

        <!-- View Details modal -->
        <div
            class="modal fade"
            id="eventDetailsModal"
            tabindex="-1"
            aria-labelledby="eventDetailsModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="eventDetailsModalLabel">
                            Event Details
                        </h5>
                        <!-- <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button> -->
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-12 col-lg-6">
                                    <h2 class="h4 mb-3" id="eventDetailsName">
                                        Event Name
                                    </h2>
                                    <p>
                                        <strong>Date:</strong>
                                        <span id="eventDetailsDate">Date</span>
                                    </p>
                                    <p>
                                        <strong>Location:</strong>
                                        <span id="eventDetailsLocation"
                                            >Location</span
                                        >
                                    </p>
                                    <p>
                                        <strong>Category:</strong>
                                        <span id="eventDetailsCategory"
                                            >Category</span
                                        >
                                    </p>
                                    <p><strong>Contact:</strong></p>
                                    <p>
                                        <strong>Phone:</strong>
                                        <span id="eventDetailsPhone"
                                            >Phone</span
                                        >
                                    </p>
                                    <p>
                                        <strong>Email:</strong>
                                        <span id="eventDetailsEmail"
                                            >Email</span
                                        >
                                    </p>
                                </div>
                                <div class="col-12 col-lg-6">
                                    <div
                                        id="eventDetailsMap"
                                        style="width: 100%; height: 300px"
                                    ></div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12">
                                    <h2 class="h4 mb-3">Description</h2>
                                    <p id="eventDetailsDescription"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                        >
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Approve Public Event Modal -->
        <div
            class="modal fade"
            id="approvePublicEventModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="approvePublicEventModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5
                            class="modal-title"
                            id="approvePublicEventModalLabel"
                        >
                            Approve Public Event
                        </h5>
                        <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="approvePublicEventForm">
                            <div class="form-group">
                                <label for="eventTitle">Event Title</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="eventTitle"
                                    placeholder="Enter event title"
                                />
                            </div>
                            <div class="form-group">
                                <label for="eventDescription"
                                    >Event Description</label
                                >
                                <textarea
                                    class="form-control"
                                    id="eventDescription"
                                    rows="3"
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="eventDateTime"
                                    >Event Date and Time</label
                                >
                                <input
                                    type="datetime-local"
                                    class="form-control"
                                    id="eventDateTime"
                                />
                            </div>
                            <div class="form-group">
                                <label for="eventLocation"
                                    >Event Location</label
                                >
                                <input
                                    type="text"
                                    class="form-control"
                                    id="eventLocation"
                                    placeholder="Enter event location"
                                />
                            </div>
                            <div class="form-group">
                                <label for="contactPhone">Contact Phone</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="contactPhone"
                                    placeholder="Enter contact phone"
                                />
                            </div>
                            <div class="form-group">
                                <label for="contactEmail">Contact Email</label>
                                <input
                                    type="email"
                                    class="form-control"
                                    id="contactEmail"
                                    placeholder="Enter contact email"
                                />
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        >
                            Close
                        </button>
                        <button
                            type="button"
                            class="btn btn-primary"
                            id="approveBtn"
                        >
                            Approve
                        </button>

                        <script>
                            document
                                .getElementById("approveBtn")
                                .addEventListener("click", function () {
                                    // validate form before submitting
                                    validateApprovePublicEventForm();
                                });
                        </script>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create RSO Modal -->
        <div
            class="modal fade"
            id="createRSOModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="createRSOModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="createRSOModalLabel">
                            Create RSO
                        </h5>
                        <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="createRSOForm">
                            <div class="form-group">
                                <label for="rsoName">RSO Name</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="rsoName"
                                    placeholder="Enter RSO name"
                                    required
                                />
                            </div>
                            <div class="form-group">
                                <label for="rsoDescription"
                                    >RSO Description</label
                                >
                                <textarea
                                    class="form-control"
                                    id="rsoDescription"
                                    rows="3"
                                    required
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="university">University</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="input"
                                    placeholder="Enter university name"
                                    required
                                />
                                <ul class="list"></ul>
                            </div>

                            <div class="form-group">
                                <label for="rsoEmail">RSO Email</label>
                                <input
                                    type="email"
                                    class="form-control"
                                    id="rsoEmail"
                                    placeholder="Enter RSO email"
                                    required
                                />
                            </div>
                            <div class="form-group">
                                <label for="initialMembers"
                                    >Initial Members</label
                                >
                                <input
                                    type="email"
                                    class="form-control"
                                    id="initialMembers"
                                    placeholder="Enter email addresses of four other students with same email domain"
                                    required
                                />
                                <small
                                    id="initialMembersHelp"
                                    class="form-text text-muted"
                                    >Email addresses should be separated by
                                    commas and have the same email domain as the
                                    RSO email.</small
                                >
                            </div>
                            <div class="form-group">
                                <label for="rsoAdmin">RSO Admin</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="rsoAdmin"
                                    placeholder="Enter RSO admin name"
                                    required
                                />
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        >
                            Close
                        </button>
                        <button
                            type="button"
                            class="btn btn-primary"
                            id="saveChangesBtn"
                            onclick="validateRsoForm()"
                        >
                            Save changes
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create University Modal -->
        <div
            class="modal fade"
            id="createUniversityModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="createUniversityModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="createUniversityModalLabel">
                            Create University
                        </h5>
                        <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="universityLocation"
                                    >University Name</label
                                >
                                <div class="input-group">
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="universityLocation"
                                        placeholder="Enter university location"
                                    />
                                    <div class="input-group-append">
                                        <button
                                            class="btn btn-outline-secondary"
                                            type="button"
                                            id="searchButton"
                                            onclick="geocode(document.getElementById('universityLocation'), document.getElementById('universityLat'), document.getElementById('universityLng'))"
                                        >
                                            Search
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-6">
                                    <label for="universityLat">Latitude</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="universityLat"
                                        placeholder="Latitude"
                                        readonly
                                    />
                                </div>
                                <div class="col-sm-6">
                                    <label for="universityLng">Longitude</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="universityLng"
                                        placeholder="Longitude"
                                        readonly
                                    />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="universityDescription"
                                    >University Description</label
                                >
                                <textarea
                                    class="form-control"
                                    id="universityDescription"
                                    rows="3"
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="numberOfStudents"
                                    >Number of Students</label
                                >
                                <input
                                    type="number"
                                    class="form-control"
                                    id="numberOfStudents"
                                    placeholder="Enter number of students"
                                />
                            </div>
                            <div class="form-group">
                                <label for="universityPictures"
                                    >University Pictures</label
                                >
                                <input
                                    type="url"
                                    class="form-control"
                                    id="universityPictures"
                                    name="universityPictures"
                                    placeholder="Enter university pictures"
                                    pattern=".*\.(jpg|jpeg|png|gif)$"
                                    required
                                />
                                <small class="form-text text-muted"
                                    >Enter a valid image URL (ending in .jpg,
                                    .jpeg, .png, or .gif)</small
                                >
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        >
                            Close
                        </button>
                        <button
                            type="button"
                            class="btn btn-primary"
                            onClick="validateUniversity()"
                        >
                            Save changes
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Join RSO Modal -->
        <div
            class="modal fade"
            id="joinRSOModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="joinRSOModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="joinRSOModalLabel">
                            Join RSO
                        </h5>
                        <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="rsoName">RSO Name</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="joinRsoName"
                                    placeholder="Enter RSO name"
                                />
                            </div>
                            <div class="form-group">
                                <label for="adminEmail">Email</label>
                                <input
                                    type="email"
                                    class="form-control"
                                    id="joinRsoEmail"
                                    placeholder="Enter email"
                                />
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        >
                            Close
                        </button>
                        <button type="button" class="btn btn-primary">
                            Join RSO
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Event Modal -->
        <div
            class="modal fade"
            id="createEventModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="createEventModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="createEventModalLabel">
                            Create Event
                        </h5>
                        <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="eventName">Event Name</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="eventName"
                                    placeholder="Enter event name"
                                />
                            </div>
                            <div class="form-group">
                                <label for="eventCategory"
                                    >Event Category</label
                                >
                                <input
                                    type="text"
                                    class="form-control"
                                    id="eventCategory"
                                    placeholder="Enter event category"
                                />
                            </div>
                            <div class="form-group">
                                <label for="eventDescription"
                                    >Event Description</label
                                >
                                <textarea
                                    class="form-control"
                                    id="eventDescription"
                                    rows="3"
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="eventDate">Event Date</label>
                                <input
                                    type="date"
                                    class="form-control"
                                    id="eventDate"
                                />
                            </div>
                            <div class="form-group">
                                <label for="eventStartTime"
                                    >Event Start Time</label
                                >
                                <input
                                    type="time"
                                    class="form-control"
                                    id="eventStartTime"
                                    name="eventStartTime"
                                    onchange="setStopTime()"
                                />
                            </div>

                            <div class="form-group">
                                <label for="eventStopTime"
                                    >Event Stop Time</label
                                >
                                <input
                                    type="time"
                                    class="form-control"
                                    id="eventStopTime"
                                    name="eventStopTime"
                                    readonly
                                />
                            </div>
                            <div class="form-group">
                                <label for="eventLocation"
                                    >Event Location</label
                                >
                                <div class="input-group">
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="eventLocationDiv"
                                        placeholder="Enter event location"
                                    />
                                    <div class="input-group-append">
                                        <button
                                            class="btn btn-outline-secondary"
                                            type="button"
                                            id="searchButton"
                                            onclick="geocode(document.getElementById('eventLocationDiv'),document.getElementById('eventLat'),document.getElementById('eventLng'))"
                                        >
                                            Search
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-6">
                                    <label for="eventLat">Latitude</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="eventLat"
                                        placeholder="Latitude"
                                        readonly
                                    />
                                </div>
                                <div class="col-sm-6">
                                    <label for="eventLng">Longitude</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="eventLng"
                                        placeholder="Longitude"
                                        readonly
                                    />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="contactPhone">Contact Phone</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="contactPhone"
                                    placeholder="Enter contact phone"
                                />
                            </div>
                            <div class="form-group">
                                <label for="contactEmail">Contact Email</label>
                                <input
                                    type="email"
                                    class="form-control"
                                    id="contactEmail"
                                    placeholder="Enter contact email"
                                />
                            </div>
                            <div class="form-group">
                                <label for="eventType">Event Type</label>
                                <select class="form-control" id="eventType">
                                    <option value="public">Public</option>
                                    <option value="private">Private</option>
                                    <option value="rso">RSO</option>
                                </select>
                            </div>
                            <div
                                id="rsoDiv"
                                class="form-group"
                                style="display: none"
                            >
                                <label for="rsoNameDiv">RSO Name</label>
                                <input
                                    type="email"
                                    class="form-control"
                                    id="rsoNameDiv"
                                    placeholder="Enter RSO name"
                                />
                            </div>
                            <input type="hidden" id="rsoId" value="" />
                            <input type="hidden" id="adminId" value="" />
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        >
                            Close
                        </button>
                        <button
                            type="button"
                            class="btn btn-primary"
                            onClick="validateEvent(event)"
                        >
                            Save changes
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // JQuery to show an extra div if event is an rso
            $(document).ready(function () {
                $("#eventType").on("change", function () {
                    if (this.value === "rso") {
                        $("#rsoDiv").show();
                    } else {
                        $("#rsoDiv").hide();
                    }
                });
            });

            // Store the filter buttons in an array
            const filterButtons = document.querySelectorAll(".event-filter");

            // Add event listener to each button
            filterButtons.forEach((button) => {
                button.addEventListener("click", () => {
                    // Remove active class from all buttons
                    filterButtons.forEach((btn) => {
                        btn.classList.remove("active");
                    });

                    // Add active class to clicked button
                    button.classList.add("active");
                });
            });

            let events = [
                {
                    id: 25,
                    name: "Theatre for Very Young Audiences: The Day I Danced with Dinosaurs",
                    category: "Concert/Performance",
                    description:
                        "The Orlando REP presents The Day I Danced with Dinosaurs. Get ready to party, because everyone knows dinosaurs love to dance! The 30-minute celebration of dinosaurs, music and movement was written by Jennifer Adams-Carrasquillo 11MFA.",
                    date: "2023-04-09",
                    location:
                        "Dr. Phillips Center for the Performing Arts Downtown",
                    latitude: "28.537539",
                    longitude: "-81.376897",
                    contact_phone: "123-456-1222",
                    contact_email: "boxoffice@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 32,
                    start_time: "11:00:00",
                    end_time: "12:00:00",
                    university_id: 4,
                },
                {
                    id: 26,
                    name: "With More Than Words: Exploring Material Rhetorics and Social Change",
                    category: "Workshop/Conference",
                    description:
                        "Curious about what quilting, activists speeches, writing and truth have in common? ",
                    date: "2023-04-10",
                    location: "Union West at Creative Village: 111",
                    latitude: "28.547919",
                    longitude: "-81.384123",
                    contact_phone: "343-322-1237",
                    contact_email: "Laurie.Pinkert@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 33,
                    start_time: "13:00:00",
                    end_time: "17:00:00",
                    university_id: 4,
                },
                {
                    id: 29,
                    name: "Big Red Bus - Donate Blood Today!",
                    category: "Health",
                    description:
                        "Help us maintain a safe and ready blood supply for cancer patients, trauma patients, or when unexpected tragedies occur. The OneBlood bus will park on Memory Mall near the Veterans Memorial.",
                    date: "2023-04-10",
                    location: "UCF Memory Mall",
                    latitude: "28.604755",
                    longitude: "-81.198791",
                    contact_phone: "407-000-0000",
                    contact_email: "BloodDrives@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 34,
                    start_time: "09:00:00",
                    end_time: "19:00:00",
                    university_id: 4,
                },
                {
                    id: 30,
                    name: "Free Coffee and Study Space",
                    category: "Social Event",
                    description:
                        "From 9:00am to 3:00 pm Monday-Friday, the Wesley Foundation space will be open as a study space for students. There is also free coffee (freshly brewed and a Keurig)!",
                    date: "2023-04-10",
                    location: "Wesley at UCF",
                    latitude: "28.613895",
                    longitude: "-81.193652",
                    contact_phone: "123-321-1232",
                    contact_email: "wesley.cfl@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 35,
                    start_time: "09:00:00",
                    end_time: "15:00:00",
                    university_id: 4,
                },
                {
                    id: 27,
                    name: "UCF Opera Presents Speed Dating Tonight!",
                    category: "Concert/Performance",
                    description:
                        "Under the direction of Thomas Potter, UCF Opera performs Speed Dating Tonight! by Michael Ching. This modern, comedic opera combines a variety of musical genres to explore the human desire for connection. Through each 90-second date, you will get a peek into the characters lives and their different approaches to dating.",
                    date: "2023-04-12",
                    location:
                        "Dr. Phillips Center for the Performing Arts Downtown",
                    latitude: "28.537539",
                    longitude: "-81.376897",
                    contact_phone: "123-456-1222",
                    contact_email: "boxoffice@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 32,
                    start_time: "13:00:00",
                    end_time: "15:00:00",
                    university_id: 4,
                },
                {
                    id: 2,
                    name: "Ray's Event",
                    category: "Fundraiser",
                    description: "Fundraiser to help cure Ray's ED",
                    date: "2023-04-15",
                    location: "University of Central Florida",
                    latitude: "28.602427",
                    longitude: "-81.200060",
                    contact_phone: "123-222-1233",
                    contact_email: "rayadmin@knights.ucf.edu",
                    event_type: "RSO",
                    rso_id: 2,
                    admin_id: 14,
                    start_time: "14:00:00",
                    end_time: "15:00:00",
                    university_id: 4,
                },
                {
                    id: 31,
                    name: "Al-Anon: Serenity Now",
                    category: "Meeting",
                    description:
                        "The Al-Anon Family Groups are a fellowship of relatives and friends of alcoholics who share their experience, strength, and hope in order to solve their common problems.",
                    date: "2023-04-15",
                    location: "Engineering I: 427",
                    latitude: "28.602427",
                    longitude: "-81.200060",
                    contact_phone: "321-345-7657",
                    contact_email: "crc@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 36,
                    start_time: "19:00:00",
                    end_time: "20:00:00",
                    university_id: 4,
                },
                {
                    id: 32,
                    name: "UCF Percussion Ensemble",
                    category: "Concert/Performance",
                    description:
                        "This concert will feature performances by the UCF Percussion Ensemble and guest artist line upon line percussion in a thrilling and dynamic showcase of percussion music.",
                    date: "2023-04-16",
                    location:
                        "Dr. Phillips Center for the Performing Arts Downtown",
                    latitude: "28.537539",
                    longitude: "-81.376897",
                    contact_phone: "123-456-1222",
                    contact_email: "boxoffice@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 32,
                    start_time: "19:00:00",
                    end_time: "21:00:00",
                    university_id: 4,
                },
                {
                    id: 22,
                    name: "Georgia Waterfall Camping and Hiking",
                    category: "Recreation & Exercise",
                    description:
                        "During the day, we will hike to several local waterfalls and enjoy the scenery. At night, we will make a campfire, cook some delicious meals and enjoy the company of other like-minded folks! ",
                    date: "2023-04-17",
                    location: "Tallulah Gorge State Park, Georgia",
                    latitude: "34.742724",
                    longitude: "-83.396476",
                    contact_phone: "123-123-1223",
                    contact_email: "outdoor@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 30,
                    start_time: "13:00:00",
                    end_time: "14:00:00",
                    university_id: 4,
                },
                {
                    id: 34,
                    name: "Drug Take Back Event",
                    category: "Health",
                    description:
                        "UCF Police Department and Student Health Services will partner to collect expired, unwanted, or unused prescription drugs as part of an anonymous, no-questions-asked national effort to curb drug abuse and safely dispose of unneeded medicine. ",
                    date: "2023-04-17",
                    location: "Student Union Patio",
                    latitude: "28.601551",
                    longitude: "-81.200456",
                    contact_phone: "343-473-3849",
                    contact_email: "crystal.zavallo@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 38,
                    start_time: "10:00:00",
                    end_time: "14:00:00",
                    university_id: 4,
                },
                {
                    id: 37,
                    name: "Couponing 101",
                    category: "Workshop/Conference",
                    description:
                        "Couponing 101 HEALTHY DOESNT HAVE TO BE EXPENSIVE! Learn the basics of couponing and save money on grocery items during our Couponing 101 Workshop.",
                    date: "2023-04-18",
                    location: "RWC:206",
                    latitude: "28.595613",
                    longitude: "-81.199489",
                    contact_phone: "407-898-0000",
                    contact_email: "Christine.Pugh@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 41,
                    start_time: "15:00:00",
                    end_time: "16:00:00",
                    university_id: 4,
                },
                {
                    id: 24,
                    name: "Student Recital: Annalise Lang, Cello",
                    category: "Concert/Performance",
                    description:
                        "View the livestream here: https://www.youtube.com/@UCFSchoolofPerformingArtsTV/streams",
                    date: "2023-04-18",
                    location: "Rehearsal Hall",
                    latitude: "28.601478",
                    longitude: "-81.202136",
                    contact_phone: "111-111-1111",
                    contact_email: "david.bjella@ucf.edu",
                    event_type: "private",
                    rso_id: null,
                    admin_id: 31,
                    start_time: "09:00:00",
                    end_time: "10:00:00",
                    university_id: 4,
                },
                {
                    id: 23,
                    name: "Learn to surf",
                    category: "Recreation & Exercise",
                    description:
                        "One of our most popular trips is back for Spring 2023! Surfing is a classic Floridian adventure — come learn the basics at Ormond Beach with our Adventure Trip Leaders as your instructors.",
                    date: "2023-04-18",
                    location: "Ormond Beach",
                    latitude: "29.285813",
                    longitude: "-81.055889",
                    contact_phone: "123-123-1222",
                    contact_email: "outdoor@ucf.edu",
                    event_type: "private",
                    rso_id: null,
                    admin_id: 30,
                    start_time: "08:00:00",
                    end_time: "17:00:00",
                    university_id: 4,
                },
                {
                    id: 33,
                    name: "Kram for the Exam Writing Lab",
                    category: "Academic",
                    description:
                        "Feeling stressed about the last paper of the semester? Visit the Writing Lab and clarify assignment expectations, develop a plan, brainstorm ideas, or just spend time writing!",
                    date: "2023-04-19",
                    location: "John C. Hitt Library: 320",
                    latitude: "28.600217",
                    longitude: "28.600217",
                    contact_phone: "407-978-9657",
                    contact_email: "katy.miller@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 37,
                    start_time: "11:00:00",
                    end_time: "14:00:00",
                    university_id: 4,
                },
                {
                    id: 35,
                    name: "Used Book Sale",
                    category: "Other",
                    description:
                        "To raise funds for the printing of Cypress Domes 34th issue, we are having our annual spring book sale! We are selling used books from all genres at $5 or below.",
                    date: "2023-04-20",
                    location: "Visual Arts Building",
                    latitude: "28.602795",
                    longitude: "-81.203167",
                    contact_phone: "234-003-0000",
                    contact_email: "jessiecq@knights.ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 39,
                    start_time: "12:00:00",
                    end_time: "16:00:00",
                    university_id: 4,
                },
                {
                    id: 36,
                    name: "Coping Through Music",
                    category: "Workshop/Conference",
                    description:
                        "Experience the power of music to help you lower stress, increase relaxation skills, and discover your personal rhythm. In this workshop you will learn a variety of musical coping skills. Email to receive link",
                    date: "2023-04-20",
                    location: "Virtual",
                    latitude: "0.000000",
                    longitude: "0.000000",
                    contact_phone: "474-584-1233",
                    contact_email: "Christine.Dassow@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 40,
                    start_time: "13:00:00",
                    end_time: "14:00:00",
                    university_id: 4,
                },
                {
                    id: 21,
                    name: "Cycle Into Spring",
                    category: "Recreation & Exercise",
                    description:
                        "Ring in the spring season by taking part in a month-long challenge to complete at least eight cycling classes at the Recreation and Wellness Center (RWC) in April. Participants can sign up in person at one of the RWC Cycle45 classes prior to April 1, 2023.",
                    date: "2023-04-30",
                    location: "Recreation and Wellness Center",
                    latitude: "28.595613",
                    longitude: "-81.199489",
                    contact_phone: "123-123-1233",
                    contact_email: "peyton.ash@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 29,
                    start_time: "12:00:00",
                    end_time: "13:00:00",
                    university_id: 4,
                },
                {
                    id: 28,
                    name: "Creative Clash",
                    category: "Entertainment",
                    description:
                        "Armed with markers, students and alumni from the UCF School of Visual Arts and Design race against the clock to create artwork in front of a crowd. The theme will be announced seconds before the start of the event, so come cheer on the artists and help choose a winner at the end of the competition.",
                    date: "3023-04-11",
                    location:
                        "Dr. Phillips Center for the Performing Arts Downtown",
                    latitude: "28.537539",
                    longitude: "-81.376897",
                    contact_phone: "123-456-1222",
                    contact_email: "boxoffice@ucf.edu",
                    event_type: "public",
                    rso_id: null,
                    admin_id: 32,
                    start_time: "17:00:00",
                    end_time: "18:00:00",
                    university_id: 4,
                },
            ];

            function createEventCard(event) {
                const formattedDate = convertDateFormat(event.date);
                const startTime12Hour = convertTo12Hour(event.start_time);
                return `
                    <div class="col-md-6 col-lg-4 mb-5">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                        <h5 class="card-title">${event.name}</h5>
                        <p class="card-text mb-1">${formattedDate} ${startTime12Hour}</p>
                        <p class="card-text mb-1">${event.location}</p>
                        <p class="card-text mb-4">${event.description}</p>
                        <div class="mt-auto">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#eventDetailsModal" onclick="loadEventDetails('${event.id}')">
                            View Details
                            </button>
                        </div>
                        </div>
                    </div>
                    </div>
                `;
            }

            function displayEvents() {
                const eventsContainer =
                    document.getElementById("eventsContainer");
                const pageSize = 7;
                let currentPage = 1;
                const totalPages = Math.ceil(events.length / pageSize);
                let startIndex = 0;

                // Display the first page of events
                for (let i = 0; i < Math.min(pageSize, events.length); i++) {
                    eventsContainer.innerHTML += createEventCard(events[i], i);
                }

                // Add pagination buttons if necessary
                if (totalPages > 1) {
                    const paginationContainer = document.createElement("div");
                    paginationContainer.classList.add(
                        "d-flex",
                        "justify-content-center",
                        "my-4"
                    );

                    for (let i = 1; i <= totalPages; i++) {
                        const paginationButton =
                            document.createElement("button");
                        paginationButton.classList.add(
                            "btn",
                            "btn-secondary",
                            "mx-2"
                        );
                        paginationButton.textContent = i;
                        paginationButton.addEventListener("click", () => {
                            // Calculate the start index of the events to display based on the current page
                            currentPage = i;
                            startIndex = (currentPage - 1) * pageSize;

                            // Clear the events container and display the events for the current page
                            eventsContainer.innerHTML = "";
                            for (
                                let j = startIndex;
                                j <
                                Math.min(startIndex + pageSize, events.length);
                                j++
                            ) {
                                eventsContainer.innerHTML += createEventCard(
                                    events[j],
                                    j
                                );
                            }
                        });

                        paginationContainer.appendChild(paginationButton);
                    }

                    document.body.appendChild(paginationContainer);
                }
            }

            function loadEventDetails(eventID) {
                // Assuming you have an array of events like this:
                // const events = [ { id: 1, name: 'Event 1', ... }, { id: 2, name: 'Event 2', ... }, ... ];

                // Find the event in the events array
                const event = events.find((e) => e.id == eventID);

                // Find and store the elements to be updated
                const modalTitle = document.getElementById(
                    "eventDetailsModalLabel"
                );
                const eventName = document.getElementById("eventDetailsName");
                const eventDateTime =
                    document.getElementById("eventDetailsDate");
                const eventLocation = document.getElementById(
                    "eventDetailsLocation"
                );
                const eventDescription = document.getElementById(
                    "eventDetailsDescription"
                );
                const eventPhone = document.getElementById("eventDetailsPhone");
                const eventEmail = document.getElementById("eventDetailsEmail");
                const eventCategory = document.getElementById(
                    "eventDetailsCategory"
                );
                const eventIframe = document.getElementById("eventDetailsMap");

                // Update the modal with the event data
                modalTitle.value = event.name;
                eventName.textContent = event.name;

                const formattedDate = convertDateFormat(event.date);
                const startTime12Hour = convertTo12Hour(event.start_time);
                const endTime12Hour = convertTo12Hour(event.end_time);
                eventDateTime.textContent = `${formattedDate} ${startTime12Hour} - ${endTime12Hour}`;

                eventLocation.textContent = event.location;
                eventDescription.textContent = event.description;
                eventPhone.innerHTML = `${event.contact_phone}`;
                eventEmail.innerHTML = `${event.contact_email}`;
                eventCategory.textContent = event.category;

                const mapOptions = {
                    zoom: 14,
                    center: new google.maps.LatLng(
                        event.latitude,
                        event.longitude
                    ),
                };
                const map = new google.maps.Map(eventIframe, mapOptions);
                const marker = new google.maps.Marker({
                    position: new google.maps.LatLng(
                        event.latitude,
                        event.longitude
                    ),
                    map: map,
                });
            }

            function convertTo12Hour(time) {
                const [hours, minutes] = time.split(":");
                const hour = parseInt(hours, 10);
                const ampm = hour >= 12 ? "pm" : "am";
                const hour12 = hour % 12 || 12;

                return `${hour12}:${minutes} ${ampm}`;
            }

            function convertDateFormat(dateString) {
                const [year, month, day] = dateString.split("-");
                const shortYear = year.slice(2);
                return `${month}/${day}/${shortYear}`;
            }
        </script>
    </body>
</html>
